<div class="page-header">
  <div class="header-content text-uppercase">
    Dashboard
  </div>
</div>

<div class="page-content">
  <div class="row">
    <div class="col-sm-12 col-md-6 col-lg-4">
      <div class="card border shadow-sm fixed-card-height mb-3" *blockUI="'subs'">
        <div class="card-body">
          <div class="card-title text-muted font-12">Subscriber Summary</div>
          <ng-container *ngIf="subscriberSummary$ | async as summary">
            <div class="text-muted font-11">
              <span>Total Number of Subscribers</span>
              <span class="float-right">{{summary.total}}</span>
            </div>
            <div class="progress progress-height mb-3">
              <div class="progress-bar bg-primary" role="progressbar" style="width: 100%" aria-valuenow="100"
                aria-valuemin="0" aria-valuemax="100">100%</div>
            </div>

            <div class="text-muted font-11">
              <span>Active Number of Subscribers</span>
              <span class="float-right">{{summary.active}}</span>
            </div>
            <div class="progress progress-height mb-3">
              <div class="progress-bar bg-info" role="progressbar" [style.width.%]="summary.activePercentage"
                aria-valuemin="0" aria-valuemax="100">{{summary.activePercentage}}%</div>
            </div>

            <div class="text-muted font-11">
              <span>Total Farmers</span>
              <span class="float-right">{{summary.farmers}}</span>
            </div>
            <div class="progress progress-height mb-3">
              <div class="progress-bar bg-success" role="progressbar" [style.width.%]="summary.farmersPercentage"
                aria-valuemin="0" aria-valuemax="100">{{summary.farmersPercentage}}%</div>
            </div>

            <div class="text-muted font-11">
              <span>Total Miners</span>
              <span class="float-right">{{summary.miners}}</span>
            </div>
            <div class="progress progress-height mb-3">
              <div class="progress-bar bg-warning" role="progressbar" [style.width.%]="summary.minersPercentage"
                aria-valuemin="0" aria-valuemax="100">{{summary.minersPercentage}}%</div>
            </div>

            <div class="text-muted font-11">
              <span>Total Individuals</span>
              <span class="float-right">{{summary.individuals}}</span>
            </div>
            <div class="progress progress-height">
              <div class="progress-bar bg-danger" role="progressbar" [style.width.%]="summary.individualsPercentage"
                aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">{{summary.individualsPercentage}}%</div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>

    <div class="col-sm-12 col-md-6 col-lg-4">
      <div class="card border shadow-sm fixed-card-height mb-3" *blockUI="'type'">
        <div class="card-body">
          <div class="card-title text-muted">
            <div class="form-group">
              <label class=" font-12">Subscriber Type Summary</label>
              <!-- <div class="col-sm-12 col-md-6"> -->
              <ng-select [items]="subscriberTypes$ | async" bindLabel="name" bindValue="id"
                placeholder="Select Subscriber Type" [clearable]="false" [loading]="loadingSubscriberTypes"
                [(ngModel)]="subscriberTypeId" (ngModelChange)="subscriberTypeOnChange()" class="form-control-sm">
              </ng-select>
              <!-- </div> -->
            </div><br>
          </div>

          <ng-container *ngIf="subscriberTypeSummary$ | async as summary">
            <div class="row text-center">
              <div class="col-6">
                <div class="text-muted font-11">Male</div>
                <div class="h4 text-secondary ml-2">{{summary.maleSubscribers}}</div>
              </div>
              <div class="col-6">
                <div class="text-muted font-11">Female</div>
                <div class="h4 text-secondary ml-2">{{summary.femaleSubscribers}}</div>
              </div>
            </div>

            <div class="row text-center">
              <div class="col-6">
                <div class="text-muted font-11">Average Age</div>
                <div class="h4 text-secondary ml-2">34</div>
              </div>
              <div class="col-6">
                <div class="text-muted font-11">Average Age</div>
                <div class="h4 text-secondary ml-2">30</div>
              </div>
            </div>

            <!-- <div class="row">
              <div class="col-sm-6">
                <div class="text-muted font-11">Number of Male Subscribers</div>
                <div class="h4 text-secondary">224,029</div>
              </div>
              <div class="col-sm-6">
                <div class="text-muted font-11">Number of Female Subscribers</div>
                <div class="h4 text-secondary">124,029</div>
              </div>
            </div> -->
          </ng-container>
        </div>
      </div>
    </div>

    <div class="col-sm-12 col-md-6 col-lg-4">
      <div class="card border shadow-sm fixed-card-height mb-3" *blockUI="'commodity'">
        <div class="card-body">
          <div class="card-title text-muted font-12">Subscriber Commodity Summary</div>
          <div class="chart-container" *ngIf="doughnut">
            <canvas class="m-auto" #barcanvas>{{ doughnut }}</canvas>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-12 col-md-4">
      <div class="card border shadow-sm fixed-card-height mb-3" *blockUI="'land'">
        <div class="card-body">
          <div class="card-title text-muted font-12">Subscriber Commodity Summary</div>
          <div class="chart-container" *ngIf="doughnut">
            <canvas class="m-auto" #doughnutcanvas>{{ doughnut }}</canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>